import{j as n,a as e}from"./index-WcmAaxBA.js";import{b as r}from"./vendor-B9lPEkq4.js";import{e as ie,g as ae,b as oe,c as le,f as re,d as se,h as R,i as M,j as T,k as F,C as ce,l as de,u as ue,s as W}from"./smartPromptEngine-Dc2xad7S.js";import{A as he}from"./AIAssistant-fp7EeI3B.js";const ye=({content:s,onContentChange:p,onBack:B})=>{const[d,b]=r.useState(!1),[h,y]=r.useState("left"),[c,D]=r.useState(null),[S,k]=r.useState(!1),[U,$]=r.useState({x:0,y:0}),[N,P]=r.useState(!1),[I,G]=r.useState(!1),[o,u]=r.useState({type:"solid",color:"#1a1a2e",gradient:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",image:"",opacity:.9}),[x,V]=r.useState([]),m=r.useRef(null),v=r.useRef(null),[l,f]=r.useState(ie("writing",{level:"balanced",yumiPersonality:"teacher",allowSuggestions:!0,memoryNudges:!0,iterativeMode:!0})),[_,E]=r.useState(!1),[w,H]=r.useState([]),[O]=r.useState(ae()),j=t=>{if(m.current){k(!0);const i=m.current.getBoundingClientRect();$({x:t.clientX-i.left,y:t.clientY-i.top})}},q=t=>{if(S&&m.current){const i=t.clientX-U.x,a=window.innerWidth;i<a/2&&h==="right"?y("left"):i>a/2&&h==="left"&&y("right")}},L=()=>{k(!1)},z=()=>{y(t=>t==="left"?"right":"left")},A=t=>{D(c===t?null:t)},Y=t=>{const i=Array.from(t.target.files||[]);if(V(a=>[...a,...i]),i[0]&&o.type==="image"){const a=new FileReader;a.onloadend=()=>{u(ne=>({...ne,image:a.result}))},a.readAsDataURL(i[0])}},K=t=>{const i=l.controlSettings;f(a=>({...a,controlSettings:t})),t.yumiPersonality!==i.yumiPersonality&&f(a=>ue(a,{lastUsedPersonality:t.yumiPersonality}))},X=t=>{const i=w.find(a=>a.id===t);i&&typeof i.content=="string"&&p(i.content)},J=t=>{if(l.controlSettings.level==="balanced"||l.controlSettings.allowSuggestions){if(W.generateBasePrompt(`${s}

Refinement request: ${t.question}`,l.controlSettings),t.type==="mood")P(!0);else if(t.type==="style"){const i=t.options[0];i&&g(i.label)}f(i=>({...i,currentContext:{feedback:t,originalContent:s}}))}},g=t=>{const i={formal:s.replace(/\b(awesome|cool|great)\b/gi,"excellent"),casual:s.replace(/\b(excellent|outstanding)\b/gi,"awesome"),emotional:s+`

This deeply resonates with the human experience.`,humorous:s+`

(Just kidding! ðŸ˜„)`},a=t.toLowerCase();a in i&&p(i[a])},Q=()=>{if(l.controlSettings.iterativeMode&&s.trim()){const t=[{id:`version_${Date.now()}_main`,type:"main",content:s,metadata:{aiConfidence:.8,refinementsSuggested:["Improve clarity","Add examples","Enhance flow"],personalityInfluence:[l.controlSettings.yumiPersonality]}}];l.controlSettings.allowSuggestions&&(W.generateBasePrompt(`Rewrite this with ${l.controlSettings.yumiPersonality} personality: ${s}`,{...l.controlSettings,level:"freestyle"}),t.push({id:`version_${Date.now()}_alt`,type:"alternative",content:s+`

[AI-enhanced version would appear here]`,metadata:{aiConfidence:.7,refinementsSuggested:["Different tone","Personality variation"],personalityInfluence:[l.controlSettings.yumiPersonality]}})),H(t),E(!0)}},Z=()=>{switch(o.type){case"solid":return{backgroundColor:o.color};case"gradient":return{background:o.gradient};case"image":return{backgroundImage:o.image?`url(${o.image})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};default:return{}}},C=[{id:"social",icon:"ðŸ“±",label:"Post to Platforms",category:"social"},{id:"trending",icon:"ðŸ“ˆ",label:"Trending Search",category:"social"},{id:"ai-continue",icon:"ðŸ¤–",label:"AI Continuation",category:"ai"},{id:"instructions",icon:"ðŸ“",label:"Instructions",category:"ai"},{id:"generate-versions",icon:"âœ¨",label:"Generate Versions",category:"ai"},{id:"anime-collab",icon:"ðŸŽ®",label:"Anime Collaboration",category:"collaboration"},{id:"galgame-blog",icon:"ðŸ’–",label:"Galgame Blog",category:"collaboration"},{id:"novel-writing",icon:"ðŸ“š",label:"Novel Writing",category:"collaboration"},{id:"test-writing",icon:"âœ…",label:"Test Writing",category:"tools"},{id:"upload",icon:"ðŸ“¤",label:"Upload Files",category:"tools"}],ee=t=>{switch(t){case"social":return"#ff6b9d";case"ai":return"#8b5cf6";case"collaboration":return"#10b981";case"tools":return"#f59e0b";default:return"#6b7280"}},te=()=>{if(!c)return null;const t=C.find(i=>i.id===c);return t?n("div",{className:"tool-panel",children:[n("h3",{children:[t.icon," ",t.label]}),c==="upload"&&n("div",{className:"upload-panel",children:[e("input",{type:"file",ref:v,multiple:!0,accept:"image/*,text/*,.pdf,.doc,.docx",onChange:Y,style:{display:"none"}}),n("button",{className:"upload-btn",onClick:()=>{var i;return(i=v.current)==null?void 0:i.click()},children:[e(R,{size:20}),"Upload Files"]}),x.length>0&&n("div",{className:"uploaded-files",children:[e("h4",{children:"Uploaded Files:"}),x.map((i,a)=>n("div",{className:"file-item",children:[e("span",{children:i.name}),n("small",{children:["(",(i.size/1024).toFixed(1)," KB)"]})]},a))]})]}),c==="social"&&n("div",{className:"social-platforms",children:[e("button",{className:"platform-btn twitter",onClick:()=>window.open("https://twitter.com/compose/tweet","_blank"),children:"ðŸ¦ Twitter"}),e("button",{className:"platform-btn instagram",onClick:()=>window.open("https://www.instagram.com/","_blank"),children:"ðŸ“· Instagram"}),e("button",{className:"platform-btn facebook",onClick:()=>window.open("https://www.facebook.com/","_blank"),children:"ðŸ‘¥ Facebook"}),e("button",{className:"platform-btn linkedin",onClick:()=>window.open("https://www.linkedin.com/feed/","_blank"),children:"ðŸ’¼ LinkedIn"}),e("button",{className:"platform-btn medium",onClick:()=>window.open("https://medium.com/new-story","_blank"),children:"ðŸ“– Medium"}),e("button",{className:"platform-btn wordpress",onClick:()=>window.open("https://wordpress.com/post","_blank"),children:"ðŸ“ WordPress"}),n("div",{className:"copy-helper",children:[e("textarea",{value:s,readOnly:!0,placeholder:"Your content will appear here for easy copying",rows:4}),e("button",{onClick:()=>navigator.clipboard.writeText(s),className:"copy-btn",children:"ðŸ“‹ Copy Content"})]})]}),c==="trending"&&n("div",{className:"trending-search",children:[e("input",{type:"text",placeholder:"Search trending topics..."}),n("div",{className:"platform-filters",children:[n("label",{children:[e("input",{type:"checkbox"})," Twitter"]}),n("label",{children:[e("input",{type:"checkbox"})," Instagram"]}),n("label",{children:[e("input",{type:"checkbox"})," TikTok"]}),n("label",{children:[e("input",{type:"checkbox"})," YouTube"]})]})]}),c==="ai-continue"&&n("div",{className:"ai-continuation",children:[e("textarea",{placeholder:"Select text to continue or leave empty for auto-continuation..."}),n("div",{className:"ai-options",children:[n("label",{children:[e("input",{type:"radio",name:"tone",value:"creative"}),"Creative"]}),n("label",{children:[e("input",{type:"radio",name:"tone",value:"professional"}),"Professional"]}),n("label",{children:[e("input",{type:"radio",name:"tone",value:"casual"}),"Casual"]})]}),e("button",{className:"generate-btn",children:"âœ¨ Continue Writing"})]}),c==="instructions"&&n("div",{className:"instructions-panel",children:[e("textarea",{placeholder:"Enter specific instructions for AI writing assistance..."}),n("div",{className:"instruction-types",children:[e("button",{children:"ðŸ“ Style Guide"}),e("button",{children:"ðŸŽ¯ Target Audience"}),e("button",{children:"ðŸ“ Length Control"}),e("button",{children:"ðŸ” Keywords"})]})]}),c==="generate-versions"&&n("div",{className:"generate-versions-panel",children:[e("h4",{children:"âœ¨ Creative Versions"}),e("p",{children:"Generate multiple versions of your content with different styles and personalities!"}),n("div",{className:"version-controls",children:[n("div",{className:"control-info",children:[e("strong",{children:"Current Mode:"})," ",l.controlSettings.level,e("br",{}),e("strong",{children:"Personality Guide:"})," ",l.controlSettings.yumiPersonality]}),e("button",{className:"generate-btn primary",onClick:Q,disabled:!s.trim(),children:"âœ¨ Generate Versions"}),n("div",{className:"quick-variations",children:[e("h5",{children:"Quick Style Variations:"}),e("button",{onClick:()=>g("formal"),children:"ðŸŽ© Formal"}),e("button",{onClick:()=>g("casual"),children:"ðŸ˜Š Casual"}),e("button",{onClick:()=>g("emotional"),children:"ðŸ’« Emotional"}),e("button",{onClick:()=>g("humorous"),children:"ðŸ˜„ Humorous"})]})]})]}),c==="anime-collab"&&n("div",{className:"anime-collaboration",children:[n("select",{children:[e("option",{children:"Choose Character..."}),e("option",{children:"Yumi (Cheerful)"}),e("option",{children:"Sakura (Mysterious)"}),e("option",{children:"Hana (Energetic)"})]}),n("div",{className:"collab-options",children:[e("button",{children:"ðŸ’¬ Character Dialogue"}),e("button",{children:"ðŸŽ­ Role Play"}),e("button",{children:"ðŸ“– Story Collaboration"})]})]}),c==="galgame-blog"&&e("div",{className:"galgame-blog",children:n("div",{className:"blog-templates",children:[e("button",{children:"ðŸ’– Romance Review"}),e("button",{children:"ðŸŽ® Game Analysis"}),e("button",{children:"ðŸ‘¥ Character Guide"}),e("button",{children:"ðŸ“Š Rating System"})]})}),c==="novel-writing"&&e("div",{className:"novel-writing",children:n("div",{className:"novel-tools",children:[e("button",{children:"ðŸ“š Chapter Planning"}),e("button",{children:"ðŸ‘¥ Character Development"}),e("button",{children:"ðŸ—ºï¸ World Building"}),e("button",{children:"ðŸ“ Plot Outline"})]})}),c==="test-writing"&&e("div",{className:"test-writing",children:n("div",{className:"test-options",children:[e("button",{children:"ðŸ“ Grammar Check"}),e("button",{children:"ðŸ“Š Readability Score"}),e("button",{children:"ðŸŽ¯ SEO Analysis"}),e("button",{children:"ðŸ’¡ Improvement Suggestions"})]})})]}):null};return n("div",{className:"writing-helper-screen",style:{...Z(),opacity:o.opacity},onMouseMove:q,onMouseUp:L,children:[n("div",{className:"screen-header",children:[e("button",{className:"back-btn",onClick:B,children:e(oe,{size:24})}),e("h1",{children:"âœï¸ Writing Helper"}),e("button",{className:"customize-btn",onClick:()=>G(!I),children:e(le,{size:24})})]}),I&&n("div",{className:"customization-panel",children:[e("h3",{children:"ðŸŽ¨ Customize Writing Helper"}),n("div",{className:"customization-section",children:[e("h4",{children:"Background"}),n("div",{className:"bg-type-selector",children:[n("button",{className:o.type==="solid"?"active":"",onClick:()=>u(t=>({...t,type:"solid"})),children:[e(re,{size:16}),"Solid"]}),e("button",{className:o.type==="gradient"?"active":"",onClick:()=>u(t=>({...t,type:"gradient"})),children:"ðŸŒˆ Gradient"}),n("button",{className:o.type==="image"?"active":"",onClick:()=>u(t=>({...t,type:"image"})),children:[e(se,{size:16}),"Image"]})]}),o.type==="solid"&&e("div",{className:"color-picker",children:e("input",{type:"color",value:o.color,onChange:t=>u(i=>({...i,color:t.target.value}))})}),o.type==="gradient"&&n("div",{className:"gradient-presets",children:[e("button",{onClick:()=>u(t=>({...t,gradient:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)"})),children:"Dark Blue"}),e("button",{onClick:()=>u(t=>({...t,gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"})),children:"Purple"}),e("button",{onClick:()=>u(t=>({...t,gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"})),children:"Pink"})]}),o.type==="image"&&e("div",{className:"image-upload",children:n("button",{onClick:()=>{var t;return(t=v.current)==null?void 0:t.click()},className:"upload-btn",children:[e(R,{size:16}),"Upload Background"]})}),n("div",{className:"opacity-slider",children:[n("label",{children:["Opacity: ",Math.round(o.opacity*100),"%"]}),e("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:o.opacity,onChange:t=>u(i=>({...i,opacity:parseFloat(t.target.value)}))})]})]}),n("div",{className:"customization-section",children:[e("h4",{children:"Sidebar Settings"}),n("div",{className:"sidebar-options",children:[n("button",{onClick:z,children:[e(M,{size:16}),"Switch to ",h==="left"?"Right":"Left"]}),n("button",{onClick:()=>b(!d),children:[d?e(T,{size:16}):e(F,{size:16}),d?"Expand":"Collapse"]})]})]})]}),e("div",{className:`content-area ${d?"sidebar-collapsed":""} sidebar-${h}`,children:e("textarea",{className:"main-editor",value:s,onChange:t=>p(t.target.value),placeholder:"Start writing your creative content..."})}),n("div",{ref:m,className:`writing-sidebar ${d?"collapsed":""} ${h}`,style:{cursor:S?"grabbing":"grab"},children:[n("div",{className:"sidebar-header",onMouseDown:j,children:[n("div",{className:"sidebar-controls",children:[e("button",{className:"collapse-btn",onClick:()=>b(!d),children:d?e(T,{size:20}):e(F,{size:20})}),e("button",{className:"position-btn",onClick:z,children:e(M,{size:20})})]}),!d&&e("h3",{children:"Writing Tools"})]}),!d&&n("div",{className:"sidebar-content",children:[e("div",{className:"tools-grid",children:C.map(t=>n("button",{className:`tool-btn ${c===t.id?"active":""}`,style:{"--category-color":ee(t.category)},onClick:()=>A(t.id),children:[e("span",{className:"tool-icon",children:t.icon}),e("span",{className:"tool-label",children:t.label})]},t.id))}),te()]}),d&&e("div",{className:"collapsed-icons",children:C.map(t=>e("button",{className:"collapsed-tool-btn",onClick:()=>{b(!1),A(t.id)},title:t.label,children:t.icon},t.id))})]}),e(he,{isOpen:N,onClose:()=>P(!1),mode:"writing-helper",floatingMode:!N}),e(ce,{currentSettings:l.controlSettings,onSettingsChange:K,userHistory:l.userHistory,availablePersonalities:O,mode:"writing"}),_&&w.length>0&&e(de,{versions:w,onVersionSelect:X,onRequestRefinement:J,currentPersonality:l.controlSettings.yumiPersonality,refinementSuggestions:["Improve clarity","Add examples","Enhance flow","Adjust tone","Simplify language","Add emotion"]})]})};export{ye as W};
//# sourceMappingURL=WritingHelperScreen-BRTwtSlV.js.map
