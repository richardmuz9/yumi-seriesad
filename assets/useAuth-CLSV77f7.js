import{b as t}from"./vendor-B9lPEkq4.js";import{c as h}from"./api-DX6zK3xw.js";const s="auth_token",f=()=>localStorage.getItem(s),S=e=>{localStorage.setItem(s,e)},p=()=>{localStorage.removeItem(s)},I=()=>{const[e,n]=t.useState(f()),[r,l]=t.useState(!!e),[c,a]=t.useState(null),[g,i]=t.useState(!0),[m,u]=t.useState(null);return t.useEffect(()=>{l(!!e)},[e]),t.useEffect(()=>{h.get("/api/auth/me").then(o=>{a(o.data),u(null)}).catch(o=>{a(null),u(o.message)}).finally(()=>{i(!1)})},[]),{token:e,isAuthenticated:r,login:o=>{S(o),n(o)},logout:()=>{p(),n(null)},user:c,loading:g,error:m}};export{f as g,I as u};
//# sourceMappingURL=useAuth-CLSV77f7.js.map
