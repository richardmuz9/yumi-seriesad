import{j as t,a as e}from"./index-WcmAaxBA.js";import{b as s,m as se,n as oe,o as ce,L as de,P as pe,q as he,s as ue,t as me,v as ge,w as be,I as U}from"./vendor-B9lPEkq4.js";import{b as O,c as V,d as j,e as ye,g as fe,f as ve,h as X,i as $,j as H,k as W,C as Ne,l as Ce,u as we,s as xe}from"./smartPromptEngine-Dc2xad7S.js";import{A as Y}from"./AIAssistant-fp7EeI3B.js";import{W as ke}from"./WritingHelperScreen-BRTwtSlV.js";import{A as B}from"./ArrowBack-D_LrkQ9Z.js";import"./api-DX6zK3xw.js";const Se=({backgroundSettings:n,onBackgroundChange:h,iconPositions:m,onIconPositionChange:p,onScreenChange:S,onBack:g})=>{const[u,d]=s.useState(!1),[C,f]=s.useState(null),[x,A]=s.useState({x:0,y:0}),I=s.useRef(null),[k,i]=s.useState(!1);s.useRef(null);const b=()=>{switch(n.type){case"solid":return{backgroundColor:n.color};case"gradient":return{background:n.gradient};case"image":return{backgroundImage:`url(${n.image})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};default:return{background:n.gradient}}},l=(o,P)=>{o.preventDefault(),o.stopPropagation(),f(P);const w=o.target.getBoundingClientRect();A({x:o.clientX-w.left,y:o.clientY-w.top})},r=o=>{if(C&&I.current){const P=I.current.getBoundingClientRect(),w={x:o.clientX-P.left-x.x,y:o.clientY-P.top-x.y};w.x>=0&&w.x<=P.width-200&&w.y>=0&&w.y<=P.height-100&&p(C,w)}},y=()=>{f(null)},R=o=>{C||S(o)},D=o=>{h({...n,type:o})},M=o=>{h({...n,color:o})},T=o=>{h({...n,gradient:o})},N=o=>{var w;const P=(w=o.target.files)==null?void 0:w[0];if(P){const z=new FileReader;z.onload=L=>{var E;const F=(E=L.target)==null?void 0:E.result;h({...n,image:F})},z.readAsDataURL(P)}};return t("div",{ref:I,className:"writing-main-screen",style:{...b(),opacity:n.opacity,position:"relative",width:"100vw",height:"100vh",overflow:"hidden"},onMouseMove:r,onMouseUp:y,children:[t("div",{className:"screen-controls",children:[g&&e("button",{className:"back-btn",onClick:g,children:e(O,{size:24})}),e("button",{className:"customization-btn",onClick:()=>d(!u),children:e(V,{size:24})})]}),u&&t("div",{className:"customization-panel",children:[e("h3",{children:"🎨 Customize Background"}),t("div",{className:"bg-type-selector",children:[e("button",{className:n.type==="solid"?"active":"",onClick:()=>D("solid"),children:"Solid Color"}),e("button",{className:n.type==="gradient"?"active":"",onClick:()=>D("gradient"),children:"Gradient"}),e("button",{className:n.type==="image"?"active":"",onClick:()=>D("image"),children:"Image"})]}),n.type==="solid"&&e("div",{className:"color-picker",children:e("input",{type:"color",value:n.color,onChange:o=>M(o.target.value)})}),n.type==="gradient"&&t("div",{className:"gradient-presets",children:[e("button",{onClick:()=>T("linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)"),children:"Dark Blue"}),e("button",{onClick:()=>T("linear-gradient(135deg, #667eea 0%, #764ba2 100%)"),children:"Purple"}),e("button",{onClick:()=>T("linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"),children:"Pink"}),e("button",{onClick:()=>T("linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"),children:"Cyan"})]}),n.type==="image"&&t("div",{className:"image-upload",children:[e("input",{type:"file",accept:"image/*",onChange:N,id:"bg-image-upload"}),t("label",{htmlFor:"bg-image-upload",className:"upload-btn",children:[e(j,{size:20}),"Upload Image"]})]}),t("div",{className:"opacity-slider",children:[t("label",{children:["Opacity: ",Math.round(n.opacity*100),"%"]}),e("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:n.opacity,onChange:o=>h({...n,opacity:parseFloat(o.target.value)})})]})]}),t("div",{className:"main-title",children:[e("h1",{children:"✨ Creative Writing Workspace"}),e("p",{children:"Choose your writing mode to begin"})]}),e("div",{className:"helper-button writing-helper-btn",style:{position:"absolute",left:m.writing.x,top:m.writing.y,cursor:C==="writing"?"grabbing":"grab"},onMouseDown:o=>l(o,"writing"),onClick:()=>R("writing"),children:t("div",{className:"button-content",children:[e("div",{className:"button-icon",children:"✍️"}),t("div",{className:"button-text",children:[e("h3",{children:"Writing Helper"}),e("p",{children:"Creative content, social posts, blogs"}),t("div",{className:"button-features",children:[e("span",{children:"📱 Post to Platforms"}),e("span",{children:"🤖 AI Continuation"}),e("span",{children:"📈 Trending Search"}),e("span",{children:"🎮 Anime Collaboration"})]})]})]})}),e("div",{className:"helper-button report-helper-btn",style:{position:"absolute",left:m.report.x,top:m.report.y,cursor:C==="report"?"grabbing":"grab"},onMouseDown:o=>l(o,"report"),onClick:()=>R("report"),children:t("div",{className:"button-content",children:[e("div",{className:"button-icon",children:"📊"}),t("div",{className:"button-text",children:[e("h3",{children:"Report Helper"}),e("p",{children:"Scientific papers, research, LaTeX"}),t("div",{className:"button-features",children:[e("span",{children:"🔬 Scientific Search"}),e("span",{children:"📄 LaTeX Editor"}),e("span",{children:"🛡️ Plagiarism Check"}),e("span",{children:"📊 Chart Generation"})]})]})]})}),t("div",{className:"instructions",children:[e("p",{children:"✨ Customize your workspace and choose your creative path"}),t("div",{className:"instruction-cards",children:[t("div",{className:"instruction-card",children:[e("span",{className:"instruction-icon",children:"🎨"}),e("span",{children:"Drag icons to reposition them"})]}),t("div",{className:"instruction-card",children:[e("span",{className:"instruction-icon",children:"⚙️"}),e("span",{children:"Use settings to customize background"})]}),t("div",{className:"instruction-card",children:[e("span",{className:"instruction-icon",children:"✍️"}),e("span",{children:"Click icons to enter different modes"})]})]})]}),e(Y,{isOpen:k,onClose:()=>i(!1),mode:"main",floatingMode:!k})]})},Ie=({onEquationChange:n,initialLatex:h=""})=>{const[m,p]=s.useState(h),[S,g]=s.useState(""),u=s.useRef(null),d=[{symbol:"\\sum",display:"∑",name:"Sum"},{symbol:"\\int",display:"∫",name:"Integral"},{symbol:"\\sqrt{}",display:"√",name:"Square Root"},{symbol:"\\frac{}{}",display:"⁄",name:"Fraction"},{symbol:"\\alpha",display:"α",name:"Alpha"},{symbol:"\\beta",display:"β",name:"Beta"},{symbol:"\\gamma",display:"γ",name:"Gamma"},{symbol:"\\delta",display:"δ",name:"Delta"},{symbol:"\\pi",display:"π",name:"Pi"},{symbol:"\\theta",display:"θ",name:"Theta"},{symbol:"\\lambda",display:"λ",name:"Lambda"},{symbol:"\\mu",display:"μ",name:"Mu"},{symbol:"\\infty",display:"∞",name:"Infinity"},{symbol:"\\pm",display:"±",name:"Plus/Minus"},{symbol:"\\leq",display:"≤",name:"Less Equal"},{symbol:"\\geq",display:"≥",name:"Greater Equal"},{symbol:"\\neq",display:"≠",name:"Not Equal"},{symbol:"\\approx",display:"≈",name:"Approximately"},{symbol:"^{}",display:"x²",name:"Superscript"},{symbol:"_{}",display:"x₁",name:"Subscript"}],C=[{name:"Quadratic Formula",latex:"x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}"},{name:"Pythagorean Theorem",latex:"a^2 + b^2 = c^2"},{name:"Euler's Identity",latex:"e^{i\\pi} + 1 = 0"},{name:"Derivative",latex:"\\frac{d}{dx}f(x) = \\lim_{h \\to 0} \\frac{f(x+h) - f(x)}{h}"},{name:"Integral",latex:"\\int_a^b f(x) dx"},{name:"Matrix",latex:"\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"},{name:"Summation",latex:"\\sum_{i=1}^{n} x_i"},{name:"Binomial Coefficient",latex:"\\binom{n}{k} = \\frac{n!}{k!(n-k)!}"}],f=i=>{p(i),n==null||n(i),g(i)},x=i=>{if(u.current){const b=u.current,l=b.selectionStart,r=b.selectionEnd,y=m.substring(0,l)+i+m.substring(r);f(y),setTimeout(()=>{const R=i.includes("{}")?l+i.indexOf("{}"):l+i.length;b.setSelectionRange(R,R),b.focus()},0)}},A=i=>{f(i),u.current&&u.current.focus()},I=()=>{f(""),u.current&&u.current.focus()},k=async()=>{try{await navigator.clipboard.writeText(m),alert("LaTeX code copied to clipboard!")}catch(i){console.error("Failed to copy: ",i)}};return t("div",{className:"equation-builder-panel",children:[e("div",{className:"equation-toolbar",children:e("div",{className:"symbol-grid",children:d.map((i,b)=>e("button",{className:"symbol-btn",onClick:()=>x(i.symbol),title:i.name,children:i.display},b))})}),t("div",{className:"equation-templates",children:[e("label",{children:"Templates:"}),e("div",{className:"template-buttons",children:C.map((i,b)=>e("button",{className:"template-btn",onClick:()=>A(i.latex),title:i.latex,children:i.name},b))})]}),t("div",{className:"equation-editor",children:[e("label",{children:"LaTeX Code:"}),e("textarea",{ref:u,value:m,onChange:i=>f(i.target.value),placeholder:"Enter LaTeX equation here... e.g., E = mc^2",rows:4})]}),t("div",{className:"equation-preview",children:[e("label",{children:"Preview:"}),e("div",{className:"preview-container",children:m?t("div",{className:"latex-preview",children:[e("code",{children:m}),e("p",{className:"preview-note",children:"💡 In a real implementation, this would render as mathematical notation using MathJax or KaTeX"})]}):e("div",{className:"preview-placeholder",children:"Enter LaTeX code to see preview"})})]}),t("div",{className:"equation-actions",children:[e("button",{onClick:I,className:"clear-btn",children:"🗑️ Clear"}),e("button",{onClick:k,className:"copy-btn",children:"📋 Copy LaTeX"})]})]})};oe.register(ce,de,pe,he,ue,me,ge,be);const Pe=({onChartChange:n})=>{const[h,m]=s.useState("line"),[p,S]=s.useState(""),[g,u]=s.useState(""),[d,C]=s.useState(""),f=s.useRef(null),x=["line","bar","doughnut","pie","scatter"],A=l=>l.split(",").map(r=>parseFloat(r.trim())).filter(r=>!isNaN(r)),I=l=>l.split(",").map(r=>r.trim()),k=()=>{const l=A(p),r=I(g),y=["rgb(75, 192, 192)","rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(153, 102, 255)"];return{labels:r,datasets:[{label:d||"Dataset",data:l,borderColor:y[0],backgroundColor:h==="pie"||h==="doughnut"?y.slice(0,l.length):y[0].replace("rgb","rgba").replace(")",", 0.5)")}]}},i=()=>{if(f.current){const l=f.current.toBase64Image(),r=document.createElement("a");r.download=`chart-${Date.now()}.png`,r.href=l,r.click()}},b=()=>{const l="10,20,30,40,50",r="Jan,Feb,Mar,Apr,May";S(l),u(r),C("Sample Chart")};return s.useEffect(()=>{if(p&&g){const l=k();n==null||n(l,h)}},[p,g,d,h]),t("div",{className:"chart-generator-panel",children:[t("div",{className:"chart-controls",children:[t("div",{className:"control-group",children:[e("label",{children:"Chart Type:"}),e("select",{value:h,onChange:l=>m(l.target.value),children:x.map(l=>e("option",{value:l,children:l.charAt(0).toUpperCase()+l.slice(1)},l))})]}),t("div",{className:"control-group",children:[e("label",{children:"Title:"}),e("input",{type:"text",value:d,onChange:l=>C(l.target.value),placeholder:"Chart title"})]}),t("div",{className:"control-group",children:[e("label",{children:"Data (comma-separated):"}),e("input",{type:"text",value:p,onChange:l=>S(l.target.value),placeholder:"1, 2, 3, 4, 5"})]}),t("div",{className:"control-group",children:[e("label",{children:"Labels (comma-separated):"}),e("input",{type:"text",value:g,onChange:l=>u(l.target.value),placeholder:"Jan, Feb, Mar, Apr, May"})]}),t("div",{className:"chart-actions",children:[e("button",{onClick:b,className:"generate-btn",children:"📊 Generate Sample"}),e("button",{onClick:i,className:"export-btn",children:"💾 Export PNG"})]})]}),p&&g&&e("div",{className:"chart-preview",children:e(se,{ref:f,type:h,data:k(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!!d,text:d,color:"#ffffff"},legend:{labels:{color:"#ffffff"}}},scales:h!=="pie"&&h!=="doughnut"?{x:{ticks:{color:"#ffffff"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"#ffffff"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}:void 0}})})]})},Ae=({content:n,onContentChange:h,onBack:m})=>{const[p,S]=s.useState(!1),[g,u]=s.useState("left"),[d,C]=s.useState(null),[f,x]=s.useState(!1),[A,I]=s.useState({x:0,y:0}),[k,i]=s.useState(!1),[b,l]=s.useState(!1),[r,y]=s.useState({type:"solid",color:"#1e293b",gradient:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",image:"",opacity:.95}),[R,D]=s.useState([]),M=s.useRef(null),T=s.useRef(null),[N,o]=s.useState(ye("report",{level:"balanced",yumiPersonality:"teacher",allowSuggestions:!0,memoryNudges:!0,iterativeMode:!0})),[P,w]=s.useState(!1),[z,L]=s.useState([]),[F]=s.useState(fe()),E=a=>{if(M.current){x(!0);const c=M.current.getBoundingClientRect();I({x:a.clientX-c.left,y:a.clientY-c.top})}},J=a=>{if(f&&M.current){const c=a.clientX-A.x,v=window.innerWidth;c<v/2&&g==="right"?u("left"):c>v/2&&g==="left"&&u("right")}},K=()=>{x(!1)},_=()=>{u(a=>a==="left"?"right":"left")},G=a=>{C(d===a?null:a)},Q=a=>{const c=Array.from(a.target.files||[]);if(D(v=>[...v,...c]),c[0]&&r.type==="image"){const v=new FileReader;v.onloadend=()=>{y(re=>({...re,image:v.result}))},v.readAsDataURL(c[0])}},Z=a=>{const c=N.controlSettings;o(v=>({...v,controlSettings:a})),a.yumiPersonality!==c.yumiPersonality&&o(v=>we(v,{lastUsedPersonality:a.yumiPersonality}))},ee=a=>{const c=z.find(v=>v.id===a);c&&typeof c.content=="string"&&h(c.content)},te=a=>{(N.controlSettings.level==="balanced"||N.controlSettings.allowSuggestions)&&(xe.generateBasePrompt(`${n}

Refinement request: ${a.question}`,N.controlSettings),a.type==="detail"&&i(!0),o(c=>({...c,currentContext:{feedback:a,originalContent:n}})))},ae=()=>{if(N.controlSettings.iterativeMode&&n.trim()){const a=[{id:`version_${Date.now()}_main`,type:"main",content:n,metadata:{aiConfidence:.9,refinementsSuggested:["Add citations","Include data analysis","Improve structure"],personalityInfluence:[N.controlSettings.yumiPersonality]}}];N.controlSettings.allowSuggestions&&a.push({id:`version_${Date.now()}_academic`,type:"alternative",content:n+`

[Academic enhanced version with formal language and structured analysis would appear here]`,metadata:{aiConfidence:.8,refinementsSuggested:["Academic formatting","Peer review ready"],personalityInfluence:[N.controlSettings.yumiPersonality]}}),L(a),w(!0)}},ne=()=>{switch(r.type){case"solid":return{backgroundColor:r.color};case"gradient":return{background:r.gradient};case"image":return{backgroundImage:r.image?`url(${r.image})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};default:return{}}},q=[{id:"scientific-search",icon:"🔬",label:"Scientific Search",category:"research"},{id:"nature-physics",icon:"🌿",label:"Nature/Physics DB",category:"research"},{id:"latex-editor",icon:"📄",label:"LaTeX Editor",category:"editing"},{id:"equation-builder",icon:"∑",label:"Equation Builder",category:"editing"},{id:"generate-versions",icon:"✨",label:"Generate Versions",category:"editing"},{id:"plagiarism-check",icon:"🛡️",label:"Plagiarism Check",category:"analysis"},{id:"citation-manager",icon:"📚",label:"Citation Manager",category:"analysis"},{id:"chart-generator",icon:"📊",label:"Chart Generator",category:"export"},{id:"pdf-export",icon:"📋",label:"PDF Export",category:"export"},{id:"upload",icon:"📤",label:"Upload Files",category:"tools"}],ie=a=>{switch(a){case"research":return"#3b82f6";case"editing":return"#f59e0b";case"analysis":return"#ef4444";case"export":return"#10b981";case"tools":return"#8b5cf6";default:return"#6b7280"}},le=()=>{if(!d)return null;const a=q.find(c=>c.id===d);return a?t("div",{className:"tool-panel",children:[t("h3",{children:[a.icon," ",a.label]}),d==="upload"&&t("div",{className:"upload-panel",children:[e("input",{type:"file",ref:T,multiple:!0,accept:"image/*,text/*,.pdf,.doc,.docx,.csv,.xlsx",onChange:Q,style:{display:"none"}}),t("button",{className:"upload-btn",onClick:()=>{var c;return(c=T.current)==null?void 0:c.click()},children:[e(X,{size:20}),"Upload Research Files"]}),R.length>0&&t("div",{className:"uploaded-files",children:[e("h4",{children:"Uploaded Files:"}),R.map((c,v)=>t("div",{className:"file-item",children:[e("span",{children:c.name}),t("small",{children:["(",(c.size/1024).toFixed(1)," KB)"]})]},v))]})]}),d==="scientific-search"&&t("div",{className:"scientific-search",children:[e("input",{type:"text",placeholder:"Search scientific papers..."}),t("div",{className:"database-filters",children:[t("label",{children:[e("input",{type:"checkbox"})," PubMed"]}),t("label",{children:[e("input",{type:"checkbox"})," IEEE"]}),t("label",{children:[e("input",{type:"checkbox"})," Nature"]}),t("label",{children:[e("input",{type:"checkbox"})," Science"]})]}),e("button",{className:"search-btn",onClick:()=>window.open("https://pubmed.ncbi.nlm.nih.gov/","_blank"),children:"🔍 Search Papers"})]}),d==="nature-physics"&&e("div",{className:"nature-physics",children:t("div",{className:"database-options",children:[e("button",{onClick:()=>window.open("https://www.nature.com/","_blank"),children:"🌿 Nature Database"}),e("button",{onClick:()=>window.open("https://journals.aps.org/","_blank"),children:"⚛️ Physics Review"}),e("button",{onClick:()=>window.open("https://www.cas.org/","_blank"),children:"🧪 Chemical Abstracts"}),e("button",{onClick:()=>window.open("https://www.sciencedirect.com/","_blank"),children:"🔬 Science Direct"})]})}),d==="latex-editor"&&t("div",{className:"latex-editor-panel",children:[e("textarea",{placeholder:"Enter LaTeX code here..."}),t("div",{className:"latex-templates",children:[e("button",{children:"📄 Article Template"}),e("button",{children:"📊 Report Template"}),e("button",{children:"📚 Thesis Template"}),e("button",{children:"📑 Paper Template"})]}),e("div",{className:"copy-helper",children:e("button",{onClick:()=>navigator.clipboard.writeText(n),className:"copy-btn",children:"📋 Copy LaTeX"})})]}),d==="equation-builder"&&e("div",{className:"equation-panel",children:e(Ie,{})}),d==="generate-versions"&&t("div",{className:"generate-versions-panel",children:[e("h4",{children:"✨ Academic Report Versions"}),e("p",{children:"Generate multiple versions of your report with different academic styles and analysis depths!"}),t("div",{className:"version-controls",children:[t("div",{className:"control-info",children:[e("strong",{children:"Current Mode:"})," ",N.controlSettings.level,e("br",{}),e("strong",{children:"Academic Guide:"})," ",N.controlSettings.yumiPersonality]}),e("button",{className:"generate-btn primary",onClick:ae,disabled:!n.trim(),children:"✨ Generate Academic Versions"}),t("div",{className:"academic-variations",children:[e("h5",{children:"Academic Enhancements:"}),e("button",{children:"📚 Literature Review"}),e("button",{children:"📊 Data Analysis"}),e("button",{children:"🔬 Methodology"}),e("button",{children:"📋 Executive Summary"})]})]})]}),d==="plagiarism-check"&&t("div",{className:"plagiarism-check",children:[t("div",{className:"check-options",children:[e("button",{onClick:()=>window.open("https://www.grammarly.com/plagiarism-checker","_blank"),children:"🔍 Quick Check"}),e("button",{children:"📊 Detailed Report"}),e("button",{children:"📚 Citation Check"}),e("button",{children:"🌐 Web Search"})]}),e("div",{className:"similarity-threshold",children:t("label",{children:["Similarity Threshold: ",e("input",{type:"range",min:"0",max:"100"})]})}),t("div",{className:"copy-helper",children:[e("textarea",{value:n,readOnly:!0,placeholder:"Your content will be analyzed for plagiarism",rows:3}),e("button",{onClick:()=>navigator.clipboard.writeText(n),className:"copy-btn",children:"📋 Copy for Analysis"})]})]}),d==="citation-manager"&&t("div",{className:"citation-manager",children:[t("div",{className:"citation-styles",children:[e("button",{children:"📖 APA"}),e("button",{children:"📚 MLA"}),e("button",{children:"🔬 IEEE"}),e("button",{children:"📄 Chicago"})]}),e("textarea",{placeholder:"Add citation details..."})]}),d==="chart-generator"&&e("div",{className:"chart-panel",children:e(Pe,{})}),d==="pdf-export"&&t("div",{className:"pdf-export",children:[t("div",{className:"export-options",children:[t("label",{children:[e("input",{type:"checkbox"})," Include References"]}),t("label",{children:[e("input",{type:"checkbox"})," Include Figures"]}),t("label",{children:[e("input",{type:"checkbox"})," Include Appendices"]}),t("label",{children:[e("input",{type:"checkbox"})," Academic Format"]})]}),e("button",{className:"export-btn",children:"📋 Export as PDF"})]})]}):null};return t("div",{className:"report-helper-screen",style:{...ne(),opacity:r.opacity},onMouseMove:J,onMouseUp:K,children:[t("div",{className:"screen-header",children:[e("button",{className:"back-btn",onClick:m,children:e(O,{size:24})}),e("h1",{children:"📊 Report Helper"}),e("button",{className:"customize-btn",onClick:()=>l(!b),children:e(V,{size:24})})]}),b&&t("div",{className:"customization-panel",children:[e("h3",{children:"🎨 Customize Report Helper"}),t("div",{className:"customization-section",children:[e("h4",{children:"Background"}),t("div",{className:"bg-type-selector",children:[t("button",{className:r.type==="solid"?"active":"",onClick:()=>y(a=>({...a,type:"solid"})),children:[e(ve,{size:16}),"Solid"]}),e("button",{className:r.type==="gradient"?"active":"",onClick:()=>y(a=>({...a,type:"gradient"})),children:"🌈 Gradient"}),t("button",{className:r.type==="image"?"active":"",onClick:()=>y(a=>({...a,type:"image"})),children:[e(j,{size:16}),"Image"]})]}),r.type==="solid"&&e("div",{className:"color-picker",children:e("input",{type:"color",value:r.color,onChange:a=>y(c=>({...c,color:a.target.value}))})}),r.type==="gradient"&&t("div",{className:"gradient-presets",children:[e("button",{onClick:()=>y(a=>({...a,gradient:"linear-gradient(135deg, #1e293b 0%, #334155 100%)"})),children:"Dark Slate"}),e("button",{onClick:()=>y(a=>({...a,gradient:"linear-gradient(135deg, #0f172a 0%, #1e293b 100%)"})),children:"Deep Blue"}),e("button",{onClick:()=>y(a=>({...a,gradient:"linear-gradient(135deg, #374151 0%, #4b5563 100%)"})),children:"Professional Gray"})]}),r.type==="image"&&e("div",{className:"image-upload",children:t("button",{onClick:()=>{var a;return(a=T.current)==null?void 0:a.click()},className:"upload-btn",children:[e(X,{size:16}),"Upload Background"]})}),t("div",{className:"opacity-slider",children:[t("label",{children:["Opacity: ",Math.round(r.opacity*100),"%"]}),e("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:r.opacity,onChange:a=>y(c=>({...c,opacity:parseFloat(a.target.value)}))})]})]}),t("div",{className:"customization-section",children:[e("h4",{children:"Sidebar Settings"}),t("div",{className:"sidebar-options",children:[t("button",{onClick:_,children:[e($,{size:16}),"Switch to ",g==="left"?"Right":"Left"]}),t("button",{onClick:()=>S(!p),children:[p?e(H,{size:16}):e(W,{size:16}),p?"Expand":"Collapse"]})]})]})]}),e("div",{className:`content-area ${p?"sidebar-collapsed":""} sidebar-${g}`,children:e("textarea",{className:"main-editor",value:n,onChange:a=>h(a.target.value),placeholder:"Start writing your scientific report..."})}),t("div",{ref:M,className:`report-sidebar ${p?"collapsed":""} ${g}`,style:{cursor:f?"grabbing":"grab"},children:[t("div",{className:"sidebar-header",onMouseDown:E,children:[t("div",{className:"sidebar-controls",children:[e("button",{className:"collapse-btn",onClick:()=>S(!p),children:p?e(H,{size:20}):e(W,{size:20})}),e("button",{className:"position-btn",onClick:_,children:e($,{size:20})})]}),!p&&e("h3",{children:"Research Tools"})]}),!p&&t("div",{className:"sidebar-content",children:[e("div",{className:"tools-grid",children:q.map(a=>t("button",{className:`tool-btn ${d===a.id?"active":""}`,style:{"--category-color":ie(a.category)},onClick:()=>G(a.id),children:[e("span",{className:"tool-icon",children:a.icon}),e("span",{className:"tool-label",children:a.label})]},a.id))}),le()]}),p&&e("div",{className:"collapsed-icons",children:q.map(a=>e("button",{className:"collapsed-tool-btn",onClick:()=>{S(!1),G(a.id)},title:a.label,children:a.icon},a.id))})]}),e(Y,{isOpen:k,onClose:()=>i(!1),mode:"report-helper",floatingMode:!k}),e(Ne,{currentSettings:N.controlSettings,onSettingsChange:Z,userHistory:N.userHistory,availablePersonalities:F,mode:"report"}),P&&z.length>0&&e(Ce,{versions:z,onVersionSelect:ee,onRequestRefinement:te,currentPersonality:N.controlSettings.yumiPersonality,refinementSuggestions:["Add citations","Include data analysis","Improve structure","Academic formatting","Peer review ready","Add conclusions"]})]})},Fe=({onBack:n})=>{const[h,m]=s.useState("main"),[p,S]=s.useState(""),[g,u]=s.useState({type:"gradient",color:"#1a1a2e",gradient:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",image:"",opacity:1}),[d,C]=s.useState({writing:{x:50,y:100},report:{x:window.innerWidth-200,y:100}}),f=i=>{m(i)},x=()=>{m("main")},A=i=>{S(i)},I=i=>{u(i)},k=(i,b)=>{C(l=>({...l,[i]:b}))};switch(h){case"writing":return t("div",{className:"writing-helper-app",children:[n&&e(U,{className:"back-button",onClick:n,sx:{position:"absolute",top:16,left:16,zIndex:1e3},children:e(B,{})}),e(ke,{content:p,onContentChange:A,onBack:x})]});case"report":return t("div",{className:"writing-helper-app",children:[n&&e(U,{className:"back-button",onClick:n,sx:{position:"absolute",top:16,left:16,zIndex:1e3},children:e(B,{})}),e(Ae,{content:p,onContentChange:A,onBack:x})]});default:return t("div",{className:"writing-helper-app",children:[n&&e(U,{className:"back-button",onClick:n,sx:{position:"absolute",top:16,left:16,zIndex:1e3},children:e(B,{})}),e(Se,{backgroundSettings:g,onBackgroundChange:I,iconPositions:d,onIconPositionChange:k,onScreenChange:f,onBack:n})]})}};export{Fe as default};
//# sourceMappingURL=WritingHelperApp-d0q-8gVb.js.map
